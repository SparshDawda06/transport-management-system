{% extends 'base.html' %}
{% block title %}New Order - Select Type{% endblock %}
{% block content %}
<div class="card" style="max-width: 600px; margin: 40px auto;">
  <h2 style="text-align: center; margin-bottom: 30px;">Create New Order</h2>
  <p style="text-align: center; color: #666; margin-bottom: 40px;">Choose the type of order you want to create</p>
  
  <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
    <!-- Party Order Card -->
    <div class="order-type-card" data-type="PARTY" style="
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 200px;
      background: white;
      position: relative;
    " onmouseover="this.style.borderColor='#3b82f6'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(59, 130, 246, 0.15)'" 
       onmouseout="this.style.borderColor='#e5e7eb'; this.style.transform='translateY(0)'; this.style.boxShadow='none'">
      <div class="order-type-icon party-icon" style="width: 48px; height: 48px; margin: 0 auto 16px; background: #3b82f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">üë•</div>
      <h3 style="margin: 0 0 10px 0; color: #1f2937;">Party Order</h3>
      <p style="margin: 0; color: #6b7280; font-size: 14px; line-height: 1.5;">
        Order placed directly by<br>
        <strong>Consignor & Consignee</strong>
      </p>
      <div style="position: absolute; top: 12px; right: 12px; background: #10b981; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 500;">RECOMMENDED</div>
    </div>
    
    <!-- Agent Order Card -->
    <div class="order-type-card" data-type="AGENT" style="
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 200px;
      background: white;
      position: relative;
    " onmouseover="this.style.borderColor='#3b82f6'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(59, 130, 246, 0.15)'" 
       onmouseout="this.style.borderColor='#e5e7eb'; this.style.transform='translateY(0)'; this.style.boxShadow='none'">
      <div class="order-type-icon agent-icon" style="width: 48px; height: 48px; margin: 0 auto 16px; background: #8b5cf6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">üè¢</div>
      <h3 style="margin: 0 0 10px 0; color: #1f2937;">Agent Order</h3>
      <p style="margin: 0; color: #6b7280; font-size: 14px; line-height: 1.5;">
        Order placed through a<br>
        <strong>Booking Agent</strong>
      </p>
      <div style="position: absolute; top: 12px; right: 12px; background: #8b5cf6; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 500;">AGENT</div>
    </div>
  </div>
  
  <div style="text-align: center; margin-top: 30px;">
    <a href="{{ url_for('orders.list_orders') }}" class="btn secondary">‚Üê Back to Orders</a>
  </div>
</div>

<script>
// Initialize order type selector when page loads
document.addEventListener('DOMContentLoaded', function() {
  console.log('Order type selector page loaded');
  
  // Add click handlers to order type cards
  const orderTypeCards = document.querySelectorAll('.order-type-card');
  orderTypeCards.forEach(card => {
    card.addEventListener('click', function() {
      const orderType = this.getAttribute('data-type');
      console.log('Selected order type:', orderType);
      
      // Redirect to order creation with the selected type
      window.location.href = `{{ url_for('orders.create_order') }}?type=${orderType}`;
    });
  });
});
</script>
{% endblock %}
